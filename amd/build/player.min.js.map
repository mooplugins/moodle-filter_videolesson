{"version":3,"file":"player.min.js","sources":["../src/player.js"],"sourcesContent":["import {initializePlayer} from 'mod_videolesson/script';\n\nexport const init = () => {\n    // Support both old and new class names for backward compatibility\n    const placeholders = document.querySelectorAll('.videolesson-placeholder, .videoaws-placeholder');\n    placeholders.forEach(placeholder => {\n        const videos = placeholder.querySelectorAll('video');\n        videos.forEach(video => {\n            if (video.dataset.initialized) {\n                return;\n            }\n\n            const hash = video.dataset.hash;\n            const player_container = placeholder.querySelector(`#player-container-div-${hash}`);\n            const player_placeholder = placeholder.querySelector(`#player-placeholder-${hash}`);\n\n            if (!player_container || !player_placeholder) {\n                return;\n            }\n\n            const params = {\n                ishls: true,\n                video: video,\n            };\n\n            initializePlayer(params)\n                .then(() => {\n                    video.dataset.initialized = true;\n                    player_container.classList.remove('d-none');\n                    player_placeholder.classList.add('d-none');\n                    return {initialized: true};\n                })\n                .catch(() => {\n                    player_container.classList.add('d-none');\n                    player_placeholder.classList.remove('d-none');\n                });\n        });\n    });\n};\n"],"names":["document","querySelectorAll","forEach","placeholder","video","dataset","initialized","hash","player_container","querySelector","player_placeholder","params","ishls","then","classList","remove","add","catch"],"mappings":"+LAEoB,KAEKA,SAASC,iBAAiB,mDAClCC,SAAQC,cACFA,YAAYF,iBAAiB,SACrCC,SAAQE,WACPA,MAAMC,QAAQC,yBAIZC,KAAOH,MAAMC,QAAQE,KACrBC,iBAAmBL,YAAYM,8CAAuCF,OACtEG,mBAAqBP,YAAYM,4CAAqCF,WAEvEC,mBAAqBE,gCAIpBC,OAAS,CACXC,OAAO,EACPR,MAAOA,oCAGMO,QACZE,MAAK,KACFT,MAAMC,QAAQC,aAAc,EAC5BE,iBAAiBM,UAAUC,OAAO,UAClCL,mBAAmBI,UAAUE,IAAI,UAC1B,CAACV,aAAa,MAExBW,OAAM,KACHT,iBAAiBM,UAAUE,IAAI,UAC/BN,mBAAmBI,UAAUC,OAAO"}